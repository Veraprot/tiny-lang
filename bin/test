#!/bin/sh
CURRENT_PATH=$PWD
FILE_PATH=$(dirname $0)
cd $FILE_PATH
mv ../src/Interpreter.cpp ../src/main
g++ -std=c++11 -pthread ../src/**/*.cpp ../test/**/*.cpp -o run_tests -I $GTEST_HOME/include -lgtest -lgtest_main -lpthread
mv ../src/main ../src/Interpreter.cpp
./run_tests
rm run_tests
cd $CURRENT_PATH
